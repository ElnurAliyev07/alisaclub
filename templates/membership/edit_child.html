{% extends 'base.html' %}
{% load static %}

{% block title %}U≈üaq Redakt…ô Et - Alisa Club{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-pink-100 via-pink-50 to-rose-100 flex items-center justify-center py-6">
    <div class="container mx-auto px-4">
        <div class="max-w-2xl mx-auto">
            <!-- Ba≈ülƒ±q hiss…ôsi -->
            <div class="text-center mb-6">
                <h2 class="text-3xl md:text-4xl font-bold text-rose-700 drop-shadow-md">
                    <i class="fas fa-edit text-yellow-400 mr-2"></i>
                    Redakt…ô Rejimi
                    <i class="fas fa-palette text-yellow-400 ml-2"></i>
                </h2>
                <p class="text-rose-500 mt-2 text-sm md:text-base">{{ child.name }}'in m…ôlumatlarƒ±nƒ± yenil…ôyin üé®</p>
            </div>

            <div class="bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl shadow-xl">
                <!-- Header -->
                <div class="bg-gradient-to-r from-rose-400 to-yellow-300 rounded-t-2xl p-4 text-center">
                    <div class="flex justify-center items-center gap-3">
                        <div class="bg-white bg-opacity-20 rounded-full p-2">
                            <i class="fas fa-user-edit text-white text-xl"></i>
                        </div>
                        <div>
                            <h4 class="text-white font-bold text-lg">M…ôlumatlarƒ± Yenil…ô</h4>
                            <p class="text-white text-opacity-75 text-sm">{{ child.name }} {{ child.surname }}</p>
                        </div>
                    </div>
                </div>

                <div class="p-6">
                    <form method="POST" enctype="multipart/form-data" class="space-y-6 needs-validation" novalidate>
                        {% csrf_token %}
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Ad v…ô Soyad -->
                            <div class="form-floating">
                                {{ form.name }}
                                <label class="text-rose-600 font-semibold">
                                    <i class="fas fa-user-tag mr-2"></i>Ad
                                </label>
                            </div>
                            <div class="form-floating">
                                {{ form.surname }}
                                <label class="text-rose-600 font-semibold">
                                    <i class="fas fa-signature mr-2"></i>Soyad
                                </label>
                            </div>

                            <!-- Doƒüum tarixi v…ô Cins -->
                            <div>
                                <label class="text-rose-600 font-semibold text-sm mb-2 block">
                                    <i class="fas fa-birthday-cake mr-2"></i>Doƒüum tarixi
                                </label>
                                <div class="relative">
                                    {{ form.birth_date }}
                                    <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-rose-600">
                                        <i class="fas fa-calendar-alt"></i>
                                    </span>
                                </div>
                            </div>
                            <div>
                                <label class="text-rose-600 font-semibold text-sm mb-2 block">
                                    <i class="fas fa-venus-mars mr-2"></i>Cins
                                </label>
                                {{ form.gender }}
                            </div>

                            <!-- ≈û…ôkil b√∂l√ºm√º -->
                            <div class="md:col-span-2">
                                <label class="text-rose-600 font-semibold text-sm mb-2 block">
                                    <i class="fas fa-camera mr-2"></i>≈û…ôkil
                                </label>
                                <!-- Cari ≈ü…ôkil -->
                                {% if child.photo %}
                                    <div class="text-center mb-4">
                                        <div class="relative inline-block">
                                            <img src="{{ child.photo.url }}" alt="{{ child.name }}" 
                                                 class="w-32 rounded-lg border-2 border-white shadow-md hover:scale-105 hover:rotate-1 transition-all duration-300">
                                            <div class="absolute top-0 right-0 -translate-x-1/2 -translate-y-1/2 bg-green-400 rounded-full p-1.5 shadow-sm">
                                                <i class="fas fa-check text-white text-xs"></i>
                                            </div>
                                        </div>
                                        <p class="text-gray-500 text-xs mt-2">Cari ≈ü…ôkil</p>
                                    </div>
                                {% endif %}
                                <!-- Yeni ≈ü…ôkil y√ºkl…ôm…ô -->
                                <div class="relative border-2 border-dashed border-rose-400 rounded-lg p-6 text-center bg-gradient-to-br from-yellow-100 to-rose-100 hover:scale-[1.01] transition-transform duration-300">
                                    {{ form.photo }}
                                    <div class="pointer-events-none">
                                        <i class="fas fa-cloud-upload-alt text-rose-600 text-3xl mb-2"></i>
                                        <h6 class="text-rose-700 font-semibold">Yeni ≈ü…ôkil se√ßin</h6>
                                        <p class="text-gray-500 text-xs">PNG, JPG, JPEG (Max 5MB)</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Allergiyalar -->
                            <div class="md:col-span-2">
                                <label class="text-rose-600 font-semibold text-sm mb-2 block">
                                    <i class="fas fa-shield-alt mr-2"></i>Allergiyalar
                                </label>
                                <div class="form-floating">
                                    {{ form.allergies }}
                                    <label class="text-rose-600">Allergiya m…ôlumatlarƒ± v…ô ya d…ôyi≈üiklikl…ôr...</label>
                                </div>
                                <p class="text-gray-500 text-xs mt-2">
                                    <i class="fas fa-info-circle mr-1"></i>
                                    U≈üaƒüƒ±nƒ±zƒ±n allergiyalarƒ± varsa, xahi≈ü edirik d…ôqiq yazƒ±n
                                </p>
                            </div>

                            <!-- X√ºsusi qeydl…ôr -->
                            <div class="md:col-span-2">
                                <label class="text-rose-600 font-semibold text-sm mb-2 block">
                                    <i class="fas fa-sticky-note mr-2"></i>X√ºsusi qeydl…ôr
                                </label>
                                <div class="form-floating">
                                    {{ form.special_notes }}
                                    <label class="text-rose-600">∆èlav…ô m…ôlumat, qeydl…ôr v…ô ya d…ôyi≈üiklikl…ôr...</label>
                                </div>
                                <p class="text-gray-500 text-xs mt-2">
                                    <i class="fas fa-lightbulb mr-1"></i>
                                    M√º…ôlliml…ôr √º√ß√ºn vacib olan h…ôr hansƒ± m…ôlumat
                                </p>
                            </div>
                        </div>

                        <!-- D√ºym…ôl…ôr -->
                        <div class="flex flex-col sm:flex-row gap-3 mt-6">
                            <button type="submit" 
                                    class="flex-1 bg-gradient-to-r from-green-400 to-teal-400 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
                                <i class="fas fa-save mr-2"></i>D…ôyi≈üiklikl…ôri Saxla
                            </button>
                            <a href="{% url 'membership:profile' %}" 
                               class="flex-1 bg-gradient-to-r from-indigo-400 to-purple-400 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 text-center">
                                <i class="fas fa-times mr-2"></i>L…ôƒüv Et
                            </a>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Dekorativ elementl…ôr -->
            <div class="fixed inset-0 pointer-events-none z-10">
                <div class="absolute bg-rose-200 bg-opacity-10 rounded-full w-12 h-12 animate-float" style="top: 15%; left: 8%;"></div>
                <div class="absolute bg-yellow-200 bg-opacity-10 rounded-full w-10 h-10 animate-float" style="top: 70%; right: 12%; animation-delay: -3s;"></div>
                <div class="absolute bg-teal-200 bg-opacity-10 rounded-full w-14 h-14 animate-float" style="bottom: 25%; left: 15%; animation-delay: -6s;"></div>
                <div class="absolute bg-pink-200 bg-opacity-10 rounded-full w-12 h-12 animate-float" style="top: 45%; right: 8%; animation-delay: -1.5s;"></div>
            </div>
        </div>
    </div>
</div>

<style>
    @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        33% { transform: translateY(-15px) rotate(120deg); }
        66% { transform: translateY(8px) rotate(240deg); }
    }

    .animate-float {
        animation: float 8s ease-in-out infinite;
    }

    .form-control, .form-select {
        border-radius: 0.75rem;
        border: 2px solid #e5e7eb;
        padding: 0.75rem;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.9);
    }

    .form-control:focus, .form-select:focus {
        border-color: #f87171;
        box-shadow: 0 0 0 0.2rem rgba(248, 113, 113, 0.25);
        background: white;
    }

    .form-floating > label {
        transition: all 0.3s ease;
    }

    .form-floating > .form-control:focus ~ label,
    .form-floating > .form-control:not(:placeholder-shown) ~ label {
        color: #f87171;
    }

    .form-control:valid { border-color: #10b981; }
    .form-control:invalid { border-color: #ef4444; }

    .upload-area input[type="file"] {
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
        top: 0;
        left: 0;
    }

    textarea.form-control {
        min-height: 100px;
        resize: vertical;
    }

    @media (max-width: 768px) {
        .text-4xl { font-size: 2rem; }
        .w-32 { width: 7.5rem !important; }
        .container { padding-left: 1rem; padding-right: 1rem; }
    }

    @media (max-width: 576px) {
        .text-4xl { font-size: 1.5rem; }
        .w-32 { width: 6rem !important; }
        .container { padding-left: 0.5rem; padding-right: 0.5rem; }
        .upload-area { padding: 1.5rem; }
    }
</style>

<script src="https://cdn.tailwindcss.com"></script>
{% endblock %}